<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Molding - AutoTrimmer Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">AutoTrimmer Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="molding-decorations-around-windows-and-doors"><a class="header" href="#molding-decorations-around-windows-and-doors">Molding: decorations around windows and doors</a></h1>
<p>The architectural term for decorations around the holes of windows and doors
is “molding”.
This molding recipe will make it super easy to add windows and doors to your
buildings.
It doesn't just work for square holes:
In the church demo, this molding
recipe is also used for all of the arched windows and doors.
To make the church doors look more richly decorated,
I added two moldings instead of just one.</p>
<p><img src="images/molding.png" alt="" /></p>
<p>This recipe is pretty much the advanced version of the
<a href="coping.html">coping</a> recipe.
Instead of using just a single trim, we'll use three different trims.
Which trim we will use depends on the direction that the side is facing.
In the church demo,
I've added a windowsill to the bottom trim and add a little hint of shadow to
the top trim.</p>
<p>Here's how you do it:</p>
<ol>
<li>Start by making a 3D model that uses the molding material.
<ul>
<li>Assuming you already have a 3D model, create a hole for a window or door,
which will be decorated with the molding trim.</li>
<li>In the 3D model, create a new material for the molding and assign it to the
sides of the window's hole. You can call the material “molding”.</li>
</ul>
</li>
<li>Create a surface for the molding. This surface is going to be used for the
sides of the hole that the door or window sits in.
<ul>
<li>Give the surface the same name as the name of the molding material in your
3D model.
If you don't give it exactly the same name, AutoTrimmer won't recognize it.
The capitalization must match exactly.</li>
<li>Create a texture for the inner surface of the molding and
apply it to the surface.</li>
<li>Set the “<a href="../rulebook/surface_config.html#uv-unwrap-mode">UV unwrap mode</a>”
to either “Unwrap” or “Unwrap along length”.</li>
<li>Set the texture size by putting an image into “texture size source”
(if you don't have an image, you can type the size into
“texture size pixels”)</li>
<li>Now reimport the 3D model and see if your molding surface looks right.</li>
</ul>
</li>
<li>Now you'll need to add three different trims to your trimsheet.
One trim for the top side, one for the bottom side,
and a last trim for the left and right side.</li>
<li>Add the three trims to the rulebook.
<ul>
<li>Give them names, for example “molding_top”, “molding_side”
and “molding_bottom”.</li>
<li>Set their textures to the ones you made in the previous step.</li>
<li>Optionally, configure their whitelists.</li>
</ul>
</li>
<li>Because we want our three trims to get corners between each other,
we'll need to put them in the same trim group.
Otherwise they would ignore each other!
<ul>
<li>Create a new trim group, and add the three trims you just made.</li>
</ul>
</li>
<li><em>(Optional but recommended)</em>
Depending on how your trims look, it may make things look a lot better if we
add some special textures for the trim corners.
<ul>
<li>In the trimsheet, add a corner texture that connects
the top side to the left/right side</li>
<li>Add another corner texture
connecting the bottom side to the left/right side.</li>
<li>Note: We won't need any sawn-off corner textures,
because you'd need to have some really crazy window shapes for
sawn-off corners to show up.</li>
</ul>
</li>
<li>Now that we have our surface, trims and trim corners, we can add the edge
rules. We'll add three edge rules. For the first edge rule, we'll
add the “molding_top” trim.
<ul>
<li>Create a new edge rule.</li>
<li>Set “add trim at neighbor” to your “molding_top” trim.</li>
<li>Paste the following code into the condition, adjusting “MOLDING” to the
appropriate <a href="../rulebook/edge_rules.html#surface-constants">UPPER_SNAKE_CASE</a>
name for your surface.
<pre><code class="language-python">self.surface == MOLDING
and neighbor.surface != MOLDING
and neighbor.dir.y &gt; 0.8
and angle &gt; 10
</code></pre>
</li>
</ul>
</li>
<li>Add the “molding_bottom” trim.
<ul>
<li>Create a new edge rule.</li>
<li>Set “add trim at neighbor” to your “molding_bottom” trim.</li>
<li>Paste the following code into the condition,
once again adjusting “MOLDING” as necessary.
<pre><code class="language-python">self.surface == MOLDING
and neighbor.surface != MOLDING
and neighbor.dir.y &lt; -0.8
and angle &gt; 10
</code></pre>
</li>
</ul>
</li>
<li>Lastly, we'll add the edge rule for the “molding_side” trim.
<ul>
<li>Create a new edge rule.</li>
<li>Ensure that the new edge rule appears behind the other two edge rules in
the list! It's very important that this edge rule runs last, because it
has the fewest restrictions of the three edge rules.
If this edge rule were to run before the other two, it would take up all
the edges where the other two trims should be added, and you wouldn't see
the other two trims in the end result.</li>
<li>Set “add trim at neighbor” to your “molding_side” trim.</li>
<li>Paste in the following condition, adjusting “MOLDING”.
<pre><code class="language-python">self.surface == MOLDING
and neighbor.surface != MOLDING
and angle &gt; 10
</code></pre>
</li>
</ul>
</li>
<li>With the rules in place, reimport your 3D model and see if it works!</li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../recipes/coping.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../recipes/roofs.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../recipes/coping.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../recipes/roofs.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
